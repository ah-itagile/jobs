uploadArchives {
    configuration = configurations.publishToNexus
    repositories {
        mavenDeployer {
            pom {
                groupId = 'de.otto'
                artifactId = 'jobs-api'
            }
        }
    }
}

task uploadJavadoc(dependsOn: javadoc) << {
    project.exec {
        commandLine(
                'scp',
                '-r',
                javadoc.destinationDir,
                'tomcat@docs.lhotse.ov.otto.de:/srv/www/htdocs/jobstore/api'
        )
    }
}

dependencies {
    compile project(':jobs-core')
    compile libs.jerseyAbdera, libs.jerseyClient, libs.jerseyCore
    providedCompile libs.javaxServlet

    testCompile libs.testng, libs.mockito
    testCompile libs.cobertura
}